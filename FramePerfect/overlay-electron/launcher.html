<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; style-src 'unsafe-inline' 'self'">
  <title>FramePerfect Overlay</title>
  <style>
    :root{
      --bg:#0f1115; --panel:#151821; --panel-2:#11141b; --text:#e8eaf1; --muted:#a0a7b6;
      --accent:#7c8cff; --danger:#ff6b6b; --ring:rgba(124,140,255,.55); --border:rgba(255,255,255,0.1);
      --shadow:0 10px 30px rgba(0,0,0,.35); --radius:16px;
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:var(--bg);color:var(--text);font:14px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
    .wrap{padding:20px 22px 16px;display:grid;gap:16px}
    .header{display:flex;align-items:center;justify-content:space-between}
    .title{font-weight:700;letter-spacing:.2px}
    .status{font-size:12px;color:var(--muted)}
    .grid{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:16px}
    .card{border:1px solid var(--border);background:linear-gradient(180deg,var(--panel),var(--panel-2));border-radius:22px;padding:18px 16px;box-shadow:var(--shadow)}
    .btn{width:100%;display:flex;flex-direction:column;align-items:center;gap:10px;cursor:pointer;user-select:none;border-radius:18px;padding:18px 12px;border:1px solid rgba(255,255,255,.12);background:transparent;color:var(--text);transition:transform .08s,box-shadow .12s,border-color .15s}
    .btn:focus-visible{outline:none;box-shadow:0 0 0 3px var(--ring)}
    .btn:active{transform:translateY(1px) scale(.99)}
    .btn .icon{width:22px;height:22px;opacity:.9}
    .btn .label{font-weight:700;font-size:18px}
    .btn .kbdrow{display:flex;gap:6px}
    .kbd{display:inline-block;min-width:1.8em;text-align:center;padding:3px 8px;border-radius:8px;border:1px solid var(--border);background:#0e1118;color:var(--text);font-family:ui-monospace,monospace}
    .card.blue{border-color:rgba(124,140,255,.35)}
    .card.red{border-color:rgba(255,107,107,.35)}
    .row{display:flex;align-items:center;gap:12px}
    .switch{position:relative;width:48px;height:26px;border-radius:999px;background:#2a2f3f;border:1px solid var(--border)}
    .switch input{position:absolute;inset:0;width:100%;height:100%;opacity:0;cursor:pointer}
    .switch .knob{position:absolute;top:2px;left:2px;width:22px;height:22px;border-radius:50%;background:#fff;transition:left .18s}
    .switch input:checked + .knob{left:24px}
    .help{padding:10px 12px;border:1px dashed var(--border);border-radius:12px;color:var(--muted);background:rgba(255,255,255,0.02)}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="header">
      <div class="title">FramePerfect Overlay</div>
      <div class="status" id="status">Ready</div>
    </div>

    <div class="grid">
      <div class="card blue">
        <button id="record" class="btn" aria-label="Record">
          <svg class="icon" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><circle cx="12" cy="12" r="6"/></svg>
          <div class="label">Record</div>
          <div class="kbdrow"><span class="kbd">Ctrl</span><span>+</span><span class="kbd">Shift</span><span>+</span><span class="kbd">R</span></div>
        </button>
      </div>
      <div class="card">
        <button id="save" class="btn" aria-label="Save Recording">
          <svg class="icon" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><rect x="9" y="9" width="6" height="6"/></svg>
          <div class="label">Save Recording</div>
          <div class="kbdrow"><span class="kbd">Ctrl</span><span>+</span><span class="kbd">Shift</span><span>+</span><span class="kbd">S</span></div>
        </button>
      </div>
      <div class="card">
        <button id="import" class="btn" aria-label="Import and Play">
          <svg class="icon" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M12 3v12m0 0l-4-4m4 4l4-4M5 21h14"/></svg>
          <div class="label">Import &amp; Play</div>
          <div class="kbdrow"><span class="kbd">Ctrl</span><span>+</span><span class="kbd">Shift</span><span>+</span><span class="kbd">I</span></div>
        </button>
      </div>
      <div class="card red">
        <button id="stop" class="btn" aria-label="Stop Playback">
          <svg class="icon" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><rect x="7" y="7" width="10" height="10"/></svg>
          <div class="label">Stop Playback</div>
          <div class="kbdrow"><span class="kbd">Ctrl</span><span>+</span><span class="kbd">Shift</span><span>+</span><span class="kbd">P</span></div>
        </button>
      </div>
    </div>

    <div class="row">
      <div class="switch" id="injectSwitch" role="switch" aria-checked="false" aria-labelledby="injectLabel">
        <input id="inject" type="checkbox" />
        <span class="knob"></span>
      </div>
      <div class="label" id="injectLabel">Inject to virtual controller</div>
    </div>

    <div class="help">
      Ctrl+Shift+O toggle overlay · Ctrl+Shift+R start/stop record · Ctrl+Shift+S save · Ctrl+Shift+I import · Ctrl+Shift+P play/stop · Ctrl+Shift+J toggle inject
    </div>
  </div>

  <!-- CSP-safe external script -->
  <script src="launcher.js"></script>
</body>
</html>
